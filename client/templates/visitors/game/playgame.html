<template name="playgame">
<div class="container">
  {{#if Template.subscriptionsReady}}
  <div class="row">
    <div class="col-sm-12 well">
      <div class="panel panel-default">
        <div class="panel-body">
          <ul class="list-group">
            <li class="list-group-item">
              <h5>Role : {{player.role}}</h5>
            </li>
            <li class="list-group-item">
              <h5>Game key : {{game.key}}</h5>
            </li>
            <li class="list-group-item">
              <h5>Player key : {{player.number}}</h5>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12 well">
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead>
            <th class="hidden-xs">Week</th>
            <th class="hidden-xs">Delivery in</th> <!-- // what I receive from top guy -->
            <th class="hidden-xs">Order in</th> <!-- //demand of guy below me -->
            <th class="hidden-xs">Delivery out</th> <!-- //what i send to guy below me -->
            <th class="hidden-xs">Order out</th> <!-- //my order to top guy -->
            <th class="hidden-xs">Back order</th>
            <th class="hidden-xs">Inventory</th>
            <th class="hidden-xs">Cost</th>
            <th class="visible-xs">Wk</th>
            <th class="visible-xs">Del. in</th>
            <th class="visible-xs">Order in</th>
            <th class="visible-xs">Del. out</th>
            <th class="visible-xs">Order out</th>
            <th class="visible-xs">Back order</th>
            <th class="visible-xs">Inventory</th>
            <th class="visible-xs">Cost</th>
          </thead>
          <tbody>
            {{#each weeks}}
            <tr>
              <td>{{this.week}}</td>
              <td>{{this.delivery.in}}</td>
              <td>{{this.order.in}}</td>
              <td>{{this.delivery.out}}</td>
              <td>{{this.order.out}}</td>
              <td>{{this.backorder}}</td>
              <td>{{this.inventory}}</td>
              <td>{{this.cost}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
        <br/>
        <div class="col-sm-offset-6 col-md-offset-6 col-lg-offset-6 col-sm-6 col-md-6 col-lg-6">
          <ul class="list-group">
            <li class="list-group-item">
              <form class="form-horizontal orderOfThisWeek">
                <div class="form-group">
                  <label class="col-xs-7 col-sm-6 col-md-6 control-label">Time remaining</label>
                  <div class="col-xs-5 col-sm-6 col-md-6 pull-right">
                    {{#if allplayersin}}
                    <span class="badge">{{timeRemaining}}</span>
                    {{else}}
                    <span class="badge">0</span>
                    {{/if}}
                  </div>
                </div>
                <div class="form-group">
                  <label for="outOrder" class="col-xs-7 col-sm-4 col-md-6 control-label">Your order</label>
                  <div class="col-xs-5 col-sm-6 col-md-6 pull-right">
                    <input type="number" class="form-control" id="outOrder" name="outOrder" min=0 value=0}}>
                  </div>
                </div>
                <div class="form-group">
                  <div class="text-center">
                    {{#if allplayersin}}
                    <button type="submit" class="btn btn-default">Submit</button>
                    {{else}}
                    <span class="badge">Waiting for other players...</span>
                    {{/if}}
                  </div>
                </div>
              </form>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  {{else}}
  {{>loading}}
  {{/if}}
</div>
</template>
